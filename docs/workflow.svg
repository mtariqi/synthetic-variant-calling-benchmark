<svg width="1080" height="620" viewBox="0 0 1080 620" xmlns="http://www.w3.org/2000/svg">

  <!-- Drop Shadow Filter -->
  <defs>
    <filter id="shadow" x="-20%" y="-20%" width="150%" height="150%">
      <feDropShadow dx="0" dy="2" stdDeviation="4" flood-color="#00000033"/>
    </filter>

    <marker id="arrowhead" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
      <polygon points="0 0, 12 6, 0 12" fill="#000000"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="100%" height="100%" fill="#ffffff"/>

  <!-- A reusable function to draw workflow boxes with shadow -->
  <g id="box" filter="url(#shadow)">
    <rect width="260" height="90" rx="10" ry="10" fill="#ffffff" stroke="#333" stroke-width="2"/>
  </g>

  <!-- FASTQ Inputs -->
  <use href="#box" x="60" y="80"/>
  <text x="190" y="120" text-anchor="middle" font-weight="700" font-family="Arial" font-size="18">FASTQ Inputs</text>
  <text x="190" y="145" text-anchor="middle" font-family="Arial" font-size="14">Tumor + Normal</text>

  <line x1="320" y1="125" x2="370" y2="125" stroke="#000" stroke-width="2.5" marker-end="url(#arrowhead)"/>

  <!-- Nextflow Pipeline -->
  <use href="#box" x="370" y="80"/>
  <text x="500" y="120" text-anchor="middle" font-weight="700" font-family="Arial" font-size="18">Nextflow Pipeline</text>
  <text x="500" y="140" text-anchor="middle" font-family="Arial" font-size="14">DSL2 Modules</text>
  <text x="500" y="160" text-anchor="middle" font-family="Arial" font-size="14">Orchestration</text>

  <line x1="630" y1="125" x2="680" y2="125" stroke="#000" stroke-width="2.5" marker-end="url(#arrowhead)"/>

  <!-- Singularity -->
  <use href="#box" x="680" y="80"/>
  <text x="810" y="120" text-anchor="middle" font-weight="700" font-family="Arial" font-size="18">Singularity Containers</text>
  <text x="810" y="140" text-anchor="middle" font-family="Arial" font-size="14">DeepVariant / GATK</text>
  <text x="810" y="160" text-anchor="middle" font-family="Arial" font-size="14">BWA / Minimap2</text>

  <line x1="810" y1="170" x2="810" y2="240" stroke="#000" stroke-width="2.5" marker-end="url(#arrowhead)"/>

  <!-- Preprocessing -->
  <use href="#box" x="370" y="240"/>
  <text x="500" y="280" text-anchor="middle" font-weight="700" font-family="Arial" font-size="18">Preprocessing</text>
  <text x="500" y="300" text-anchor="middle" font-family="Arial" font-size="14">Alignment → Sorting</text>
  <text x="500" y="320" text-anchor="middle" font-family="Arial" font-size="14">Indexing → QC</text>

  <line x1="630" y1="295" x2="680" y2="295" stroke="#000" stroke-width="2.5" marker-end="url(#arrowhead)"/>

  <!-- HPC Cluster -->
  <use href="#box" x="680" y="240"/>
  <text x="810" y="280" text-anchor="middle" font-weight="700" font-family="Arial" font-size="18">HPC Cluster (SLURM)</text>
  <text x="810" y="300" text-anchor="middle" font-family="Arial" font-size="14">Multi-core Execution</text>
  <text x="810" y="320" text-anchor="middle" font-family="Arial" font-size="14">Resource Management</text>

  <line x1="810" y1="330" x2="810" y2="410" stroke="#000" stroke-width="2.5" marker-end="url(#arrowhead)"/>

  <!-- Benchmark Outputs -->
  <use href="#box" x="680" y="410"/>
  <text x="810" y="450" text-anchor="middle" font-weight="700" font-family="Arial" font-size="18">Benchmark Outputs</text>
  <text x="810" y="470" text-anchor="middle" font-family="Arial" font-size="14">Sorted BAM / VCF</text>
  <text x="810" y="490" text-anchor="middle" font-family="Arial" font-size="14">Precision / Recall</text>
  <text x="810" y="510" text-anchor="middle" font-family="Arial" font-size="14">Synthetic Truth Match</text>

</svg>
